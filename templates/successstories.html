{% extends "base.html" %}
{% block content %}

<!-- dotLottie Web Component CDN -->
<script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.8.1/dist/dotlottie-wc.js" type="module" defer></script>

<style>

  .hero {
      position: relative;
      height: 60vh;
      width: 100%;
      overflow: visible;
      background: linear-gradient(to right, #100f0f, #686767);
      display: flex;
      align-items: center;
      justify-content: center;
}
</style>

<!-- SECTION 1 HERO -->
<section class="hero" style="padding-bottom: 2rem; position: relative; overflow: hidden;">
  <!-- Particles Background -->
  <div id="tsparticles"></div>

  <div class="hero-content" style="position: relative; z-index: 2;">
    <h1 style="color: #957f04;">Real Businesses. Real Transformations. Real Results.</h1>
    <p style="color: #fbfbf9; margin-left: 16%;" >See how METAMAX AI Growth Systems have transformed businesses across industries</p>
  </div>
</section>

<!-- tsParticles CDN -->
<script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function() {
  tsParticles.load("tsparticles", {
    fullScreen: { enable: false },
    fpsLimit: 120,
    particles: {
      number: { value: 60, density: { enable: true, area: 800 } },
      color: { value: "#FFD700" },
      shape: { type: "circle" },
      opacity: { value: 0.5 },
      size: { value: { min: 1, max: 4 } },
      links: { enable: true, distance: 150, color: "#FFD700", opacity: 0.4, width: 1 },
      move: { enable: true, speed: 1, outModes: "bounce" }
    },
    interactivity: {
      events: { onHover: { enable: true, mode: "repulse" }, resize: true },
      modes: { repulse: { distance: 200, duration: 0.4 } }
    },
    detectRetina: true
  });
});
</script>


<!-- SECTION 2: FEATURED CASE STUDIES -->
<section class="py-5" style="background:#d7d3d3; color:black;">
  <div class="container">

    <!-- Case Study 1 -->
    <div class="row align-items-center mb-5">
      <div class="col-md-6 lottie-container">
        <dotlottie-wc src="https://lottie.host/faca4eb1-a269-4733-bbfd-c7dbb22e0c40/edllglNYYf.lottie" style="width:100%; max-width:500px; height:400px;" autoplay loop></dotlottie-wc>
      </div>
      <div class="col-md-6">
        <h3 class="fw-bold">Melbourne Family Clinic</h3>
        <p><strong>Before State:</strong></p>
        <ul>
          <li>Missing 60% of after-hours appointment requests</li>
          <li>Staff overwhelmed with scheduling calls</li>
          <li>Inconsistent patient communication</li>
          <li>Limited growth due to operational constraints</li>
        </ul>
        <p><strong>METAMAX Implementation:</strong></p>
        <ul>
          <li>AI Receptionist with medical terminology training</li>
          <li>Automated reminders + confirmations</li>
          <li>Patient intake automation</li>
          <li>Analytics dashboard for optimization</li>
        </ul>
        <p><strong>Results Achieved:</strong></p>
        <ul>
          <li>300% increase in appointment bookings</li>
          <li>85% reduction in no-shows</li>
          <li>$200K additional annual revenue</li>
          <li>95% patient satisfaction improvement</li>
        </ul>
        <blockquote class="blockquote">
          <p class="mb-0">"METAMAX didn't just give us an AI receptionist – they gave us our lives back."</p>
          <footer class="blockquote-footer" style="margin-top: 5px;">Dr. Sarah Mitchell, Family Clinic</footer>
        </blockquote>
       
      </div>
    </div>

    <!-- Case Study 2 -->
    <div class="row align-items-center mb-5 flex-md-row-reverse">
      <div class="col-md-6 lottie-container">
        <dotlottie-wc src="https://lottie.host/b1ec42aa-feae-43b6-95a4-0ac696ea2ddb/fM8KpJzEOb.lottie" style="width:100%; max-width:500px; height:400px;" autoplay loop></dotlottie-wc>
      </div>
      <div class="col-md-6">
        <h3 class="fw-bold">Elite Plumbing Services</h3>
        <p><strong>Challenge:</strong> Seasonal demand fluctuations and missed emergency calls</p>
        <p><strong>Solution:</strong> 24/7 AI dispatcher with urgency assessment</p>
        <p><strong>Results:</strong> 200% increase in emergency bookings, 75% revenue growth</p>
       
      </div>
    </div>

    <!-- Case Study 3 -->
    <div class="row align-items-center mb-5">
      <div class="col-md-6 lottie-container">
        <dotlottie-wc src="https://lottie.host/54a937ee-afb9-4a37-b15a-21a3419ca85b/HGAjnGaO40.lottie" style="width:100%; max-width:500px; height:400px;" autoplay loop></dotlottie-wc>
      </div>
      <div class="col-md-6">
        <h3 class="fw-bold">Richardson Legal</h3>
        <p><strong>Challenge:</strong> High-value consultations lost to after-hours inquiries</p>
        <p><strong>Solution:</strong> AI legal intake system with qualification protocols</p>
        <p><strong>Results:</strong> $150K additional quarterly revenue, 90% consultation booking rate</p>
        
      </div>
    </div>

<!-- Dynamic Case Studies from Admin -->
{% for cs in case_studies %}
<div class="row align-items-center mb-5 {% if loop.index is odd %}flex-md-row-reverse{% endif %}">
  <div class="col-md-6 lottie-container">

    {% if cs.lottie_url %}
      <!-- Show Lottie animation if URL is given -->
      <dotlottie-wc 
        src="{{ cs.lottie_url }}" 
        style="width:100%; max-width:500px; height:400px;" autoplay loop>
      </dotlottie-wc>

    {% elif cs.image_url %}
      <!-- Show uploaded image if available -->
      <img src="{{ url_for('static', filename='uploads/' ~ cs.image_url) }}" 
           alt="{{ cs.title }}" 
           style="width:50%; max-width:500px; height:auto; border-radius:12px;">

    {% else %}
      <!-- Fallback if no image or animation -->
      <div style="width:100%; max-width:500px; height:400px; display:flex; align-items:center; justify-content:center; background:#f8f9fa; border-radius:12px;">
        <span style="color:#888;">No media available</span>
      </div>
    {% endif %}

  </div>

  <div class="col-md-6">
    <h3 class="fw-bold">{{ cs.title }}</h3>
    {% if cs.challenge %}<p><strong>Challenge:</strong> {{ cs.challenge }}</p>{% endif %}
    {% if cs.solution %}<p><strong>Solution:</strong> {{ cs.solution }}</p>{% endif %}
    {% if cs.results %}<p><strong>Results:</strong> {{ cs.results }}</p>{% endif %}
  </div>
</div>
{% endfor %}







  </div>
</section>

<!-- SECTION 3: INTERACTIVE SUCCESS METRICS -->
<section class="py-5 text-white text-center" style="background:black;">
  <div class="container">
    <h2 class="fw-bold mb-4" style="color:#FFD700;">Success Metrics</h2>
    <div class="row justify-content-center">
      <div class="col-md-2 col-6 mb-4">
        <h3 class="counter" data-target="47392">0</h3>
        <p>Total appointments booked</p>
      </div>
      <div class="col-md-2 col-6 mb-4">
        <h3 class="counter" data-target="12700000">0</h3>
        <p>Revenue generated</p>
      </div>
      <div class="col-md-2 col-6 mb-4">
        <h3 class="counter" data-target="318">0</h3>
        <p>Average ROI achieved</p>
      </div>
      <div class="col-md-2 col-6 mb-4">
        <h3 class="counter" data-target="99.7">0</h3>
        <p>Client satisfaction rate</p>
      </div>
      <div class="col-md-2 col-6 mb-4">
        <h3 class="counter" data-target="23">0</h3>
        <p>Countries served</p>
      </div>
    </div>
  </div>
</section>

<!-- SECTION 4: BEFORE & AFTER VISUALIZATIONS -->
<section class="py-5" style="background:#d7d3d3;">
  <div class="container text-center">
   
    <div class="row g-4">

      <div class="col-md-6 col-lg-3" >
        <div class="card viz-card h-100" style="background-color  : rgb(236, 233, 233);">
          <div class="card-body" >
            <div class="display-4 mb-3 text-primary"><i class="bi bi-graph-up-arrow"></i></div>
            <h5 class="fw-bold" style="color:#cece0c;">Revenue Growth</h5>
            <p class="mt-3 text-muted">
              Before: $<span class="counter" data-target="500">0</span>K → 
              After: $<span class="counter" data-target="1200">0</span>K
            </p>
          </div>
        </div>
      </div>

      <div class="col-md-6 col-lg-3">
        <div class="card viz-card h-100" style="background-color  : rgb(236, 233, 233);">
          <div class="card-body" >
            <div class="display-4 mb-3 text-success"><i class="bi bi-speedometer2"></i></div>
            <h5 class="fw-bold" style="color:#1B365D;">Operational Efficiency</h5>
            <p class="mt-3 text-muted">
              Before: <span class="counter" data-target="65">0</span>% → 
              After: <span class="counter" data-target="92">0</span>%
            </p>
          </div>
        </div>
      </div>

      <div class="col-md-6 col-lg-3">
        <div class="card viz-card h-100" style="background-color  : rgb(236, 233, 233);">
          <div class="card-body">
            <div class="display-4 mb-3 text-warning"><i class="bi bi-emoji-smile"></i></div>
            <h5 class="fw-bold" style="color:#1B365D;">Customer Satisfaction</h5>
            <p class="mt-3 text-muted">
              Before: <span class="counter" data-target="70">0</span>% → 
              After: <span class="counter" data-target="95">0</span>%
            </p>
          </div>
        </div>
      </div>

      <div class="col-md-6 col-lg-3">
        <div class="card viz-card h-100" style="background-color  : rgb(236, 233, 233);">
          <div class="card-body" >
            <div class="display-4 mb-3 text-info"><i class="bi bi-people"></i></div>
            <h5 class="fw-bold" style="color:#1B365D;">Staff Productivity</h5>
            <p class="mt-3 text-muted">
              Before: <span class="counter" data-target="40">0</span> hrs/wk → 
              After: <span class="counter" data-target="25">0</span> hrs/wk
            </p>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- Bootstrap Icons CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

<!-- Styles -->
<style>
  
  .btn-golden {
    display:inline-block;
    padding:0.7rem 1.5rem;
    background:#FFD700;
    color:#000;
    font-weight:600;
    border-radius:8px;
    text-decoration:none;
    transition:0.3s;
  }
  .btn-golden:hover {
    background:#e6c200;
    color:#000;
  }
  .lottie-container {
    display:flex;
    align-items:center;
    justify-content:center;
  }
  h3, strong {
    color:#957f04;
  }
  ul li {
    margin-bottom:0.5rem;
  }
  blockquote {
    border-left: 4px solid #957f04;
    padding-left: 1rem;
    color: #ccc;
  }
  .viz-card {
    border: none;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .viz-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
  }


  /* =============================
   RESPONSIVE FIXES
============================= */

/* Tablet */
@media (max-width: 992px) {
  h1 {
    font-size: 2rem !important;
  }
  h2 {
    font-size: 1.6rem !important;
  }
  h3 {
    font-size: 1.3rem !important;
  }

  .lottie-container dotlottie-wc {
    max-width: 350px !important;
    height: 280px !important;
  }

  .viz-card {
    margin-bottom: 1.5rem;
  }

  .btn-golden {
    font-size: 0.9rem;
    padding: 0.6rem 1.2rem;
  }
}

/* Mobile */
@media (max-width: 768px) {
  h1 {
    font-size: 1.6rem !important;
  }
  h2 {
    font-size: 1.3rem !important;
  }
  h3 {
    font-size: 1.1rem !important;
  }

  section {
    padding: 2rem 1rem !important;
  }

  .lottie-container dotlottie-wc {
    max-width: 260px !important;
    height: 220px !important;
  }

  ul {
    padding-left: 1rem;
  }

  .row.align-items-center {
    flex-direction: column !important;
    text-align: left;
  }

  .row.align-items-center.flex-md-row-reverse {
    flex-direction: column !important;
  }

  .row.align-items-center .col-md-6 {
    margin-bottom: 1.5rem;
  }

  .viz-card {
    margin-bottom: 1rem;
  }

  .counter {
    font-size: 1.4rem;
  }
}

/* Extra Small (phones < 480px) */
@media (max-width: 480px) {
  h1 {
    font-size: 1.3rem !important;
  }
  h2 {
    font-size: 1.1rem !important;
  }
  .btn-golden {
    width: 100%;
    padding: 0.8rem;
  }
  .counter {
    font-size: 1.2rem;
  }
}

</style>

<!-- Counter Script -->
<script>
  const counters = document.querySelectorAll('.counter');
  counters.forEach(counter => {
    const updateCount = () => {
      const target = parseFloat(counter.getAttribute('data-target'));
      let count = parseFloat(counter.innerText.replace(/[^0-9.]/g, '')) || 0;
      const increment = target / 200;
      if(count < target){
        count += increment;
        if(target % 1 !== 0) {
          counter.innerText = count.toFixed(1);
        } else {
          counter.innerText = Math.ceil(count);
        }
        setTimeout(updateCount, 20);
      } else {
        counter.innerText = target.toLocaleString();
      }
    };
    updateCount();
  });
</script>

{% endblock %}
